{% extends 'base.html' %}
{% load static %}

{% block content %}
<h3>기숙사 정보 공유 게시판</h3>
<div>
    <a href="">인기 게시글</a>
    {% csrf_token %}
    <div>
        <h2>검색</h2>
        <form action="">
            <div>
                <input type="text" name="search_keyword" value="{{ search_keyword }}" placeholder="#역세권_오피스텔_어때요?">
            </div>
            <div>
                <button type="submit">검색</button>
            </div>
        </form>
    </div>
    <button onclick="location.href='{% url 'dom_infoWrite' %}'">+</button>
</div>

{% if search_keyword %}
<h5> &nbsp; '{{ search_keyword }}' 검색 결과입니다</h5>
{% endif %}

{% for post in posts %}     
<div onclick="location.href='{% url 'domitoryView' post.id %}'">

    {% if post.preface_2 == '정문' or post.preface == '후문' or post.preface == '남문' or post.preface == '호탄' or post.preface == '기타' %}
    <p class="preface">원룸정보</p>
    <p>{{ post.preface_2 }}</p>
    <p>{{ post.title }}</p>
    {% else %}
    <p class="preface">{{ post.preface }}</p>
    <p>{{ post.preface_2 }}</p>
    <p>{{ post.title }}</p>
    {% endif %}

</div>
{% endfor %}
{% else %}
    {% if search_keyword %}
    일치하는 검색 결과가 없습니다
    {% else %}
    작성된 게시글이 없습니다
    {% endif %}
{% endif %}
<div>
    <ul class="pagination">
        <li class="page-item"><a class="page-link" href="#">◀</a></li>
        <li class="page-item"><a class="page-link" href="#">1</a></li>
        <li class="page-item"><a class="page-link" href="#">2</a></li>
        <li class="page-item"><a class="page-link" href="#">3</a></li>
        <li class="page-item"><a class="page-link" href="#">4</a></li>
        <li class="page-item"><a class="page-link" href="#">5</a></li>
        <li class="page-item"><a class="page-link" href="#">▶</a></li>
    </ul>
</div>
<img class="open" id="jsBtn" src="{% static 'img/chat_icon.png' %}" alt="">
<div class="modal hidden" id="jsModal">
    <button class="modal__closeBtn" id="jsCloseBtn">X</button>
</div>


<script>
    const open = document.querySelector(".open");
    const close = document.querySelector(".modal__closeBtn");
    const modal = document.querySelector(".modal");

    function init() {
        open.addEventListener("click", function () {
            modal.classList.remove("hidden");
        });
        close.addEventListener("click", function () {
            modal.classList.add("hidden");
        });
    }

    init();
</script>
{% endblock %}